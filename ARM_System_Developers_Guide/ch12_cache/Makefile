# makefile generated by mcp2make 1.0.2

AS=armasm
CC=armcc
LD=armlink
CORE=XScale
#CORE=ARM920T

ASFLAGS = -g -cpu $(CORE)
CCFLAGS = -O1 -g+ -cpu $(CORE)
LDFLAGS = -entry main.o

OBJS = cacheTest.o enableCache.o flushcache.o cleancachebyway.o cleancachebytest.o cleancachexscale.o cleanflushcacheregion.o lockcachebyway.o lockcachebyLbit.o lockcachebyregion.o main.o

all: cache.axf


rebuild: clean all

clean:
	rm *.o *.axf

cache.axf: $(OBJS)
	$(LD) $(LDFLAGS) -o cache.axf $(OBJS)

cacheTest.o: cacheTest.c
	$(CC) -c $(CCFLAGS) cacheTest.c -o cacheTest.o

enableCache.o: enableCache.s
	$(AS) $(ASFLAGS) enableCache.s -o enableCache.o

flushcache.o: flushcache.s
	$(AS) $(ASFLAGS) flushcache.s -o flushcache.o

cleancachebyway.o: cleancachebyway.s
	$(AS) $(ASFLAGS) cleancachebyway.s -o cleancachebyway.o

cleancachebytest.o: cleancachebytest.s
	$(AS) $(ASFLAGS) cleancachebytest.s -o cleancachebytest.o

cleancachexscale.o: cleancachexscale.s
	$(AS) $(ASFLAGS) cleancachexscale.s -o cleancachexscale.o

cleanflushcacheregion.o: cleanflushcacheregion.s
	$(AS) $(ASFLAGS) cleanflushcacheregion.s -o cleanflushcacheregion.o

lockcachebyway.o: lockcachebyway.s
	$(AS) $(ASFLAGS) lockcachebyway.s -o lockcachebyway.o

lockcachebyLbit.o: lockcachebyLbit.s
	$(AS) $(ASFLAGS) lockcachebyLbit.s -o lockcachebyLbit.o

lockcachebyregion.o: lockcachebyregion.s
	$(AS) $(ASFLAGS) lockcachebyregion.s -o lockcachebyregion.o

main.o: main.c
	$(CC) -c $(CCFLAGS) main.c -o main.o


